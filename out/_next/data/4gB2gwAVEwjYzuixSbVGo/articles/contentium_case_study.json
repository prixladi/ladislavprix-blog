{"pageProps":{"article":{"title":"Contentium case study","metaDescription":"Contentium is a project, build with Next.js, allowing you to easily create a site with static editable content using a markdown source.","keywordText":"contentium nextjs ssg ssr isr static content markdown","brief":{"compiledSource":"var c=Object.defineProperty,g=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var a=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;var i=(t,e,n)=>e in t?c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r=(t,e)=>{for(var n in e||(e={}))p.call(e,n)&&i(t,n,e[n]);if(a)for(var n of a(e))s.call(e,n)&&i(t,n,e[n]);return t},u=(t,e)=>g(t,y(e));var m=(t,e)=>{var n={};for(var o in t)p.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&a)for(var o of a(t))e.indexOf(o)<0&&s.call(t,o)&&(n[o]=t[o]);return n};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var o=n,{components:t}=o,e=m(o,[\"components\"]);return mdx(MDXLayout,u(r(r({},layoutProps),e),{components:t,mdxType:\"MDXLayout\"}),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Contentium\"),\" is a project, build with \",mdx(\"a\",r({parentName:\"p\"},{href:\"https://nextjs.org/\"}),\"Next.js\"),\", allowing you to easily create a site with static (\",mdx(\"em\",{parentName:\"p\"},\"editable\"),\") content using a \",mdx(\"strong\",{parentName:\"p\"},\"markdown\"),\" source.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"createdAt":"2021-09-09","author":"Ladislav Prix","readingTimeInMinutes":3,"content":{"compiledSource":"var d=Object.defineProperty,c=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;var l=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))s.call(t,n)&&l(e,n,t[n]);return e},p=(e,t)=>c(e,g(t));var m=(e,t)=>{var n={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&o)for(var i of o(e))t.indexOf(i)<0&&s.call(e,i)&&(n[i]=e[i]);return n};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var i=n,{components:e}=i,t=m(i,[\"components\"]);return mdx(MDXLayout,p(a(a({},layoutProps),t),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Contentium is a project you can use for creating sites with semi-static content. The project uses \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://nextjs.org/\"}),\"Next.js\"),\" as the main framework, \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://mdxjs.com/\"}),\"mdx\"),\" to render markdown, \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://prismjs.com/\"}),\"Prism.js\"),\" for code highlights, and \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://tailwindcss.com/\"}),\"Tailwind CSS\"),\" for styles. You can find the project on \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/prixladi/contentium\"}),\"Github\"),\".\"),mdx(\"p\",null,\"Content is generated from \",mdx(\"inlineCode\",{parentName:\"p\"},\"./data\"),\" folder that is the root of the project. The folder contains \",mdx(\"inlineCode\",{parentName:\"p\"},\"settings.json\"),\" file that contains the basic settings for a site. Example below:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-json\"}),`{\n    \"metaDescription\": \"This is example blog of Contentium project.\",\n    \"mainTitle\": \"My Example blog\",\n    \"mainDescription\": \"This is example blog made by **Ladislav Prix**.\",\n    \"footer\": \"Copyright 2021 \\xA9 [Ladislav Prix](mailto:contact@ladislavprix.cz)\",\n    \"autosearchTresholdCount\": \"100\"\n}\n`)),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"metaDescription\"),\" - Content of \",mdx(\"inlineCode\",{parentName:\"li\"},'<meta name=\"description\">'),\" tag on the main page.\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"mainTitle\"),\" - \",mdx(\"inlineCode\",{parentName:\"li\"},\"<h1>\"),\" title on main page. Also \",mdx(\"inlineCode\",{parentName:\"li\"},\"<title>\"),\" of the page.\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"mainDescription\"),\" - Main description of the page, right below title, can use \",mdx(\"strong\",{parentName:\"li\"},\"markdown\"),\".\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"footer\"),\" - Footer on all pages, can use \",mdx(\"strong\",{parentName:\"li\"},\"markdown\"),\".\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"autosearchTresholdCount\"),\" - Threshold of number of articles after which search on main pages stops searching automatically as you type and instead of taht waits for click on search button. High treshold can cause performance issues, change with \",mdx(\"em\",{parentName:\"li\"},\"caution\"),\".\")),mdx(\"p\",null,\"Then it contains \",mdx(\"inlineCode\",{parentName:\"p\"},\"articles\"),\" folder that contains other folders that contain concrete articles. Each article is defined by its own \",mdx(\"inlineCode\",{parentName:\"p\"},\"metadata.json\"),\" file. A \",mdx(\"strong\",{parentName:\"p\"},\"Markdown\"),\" file with the text itself. \",mdx(\"strong\",{parentName:\"p\"},\"Markdown\"),\" file should not contain the main heading because it is taken over from \",mdx(\"inlineCode\",{parentName:\"p\"},\"metadata.json\"),\".\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-json\"}),`{\n    \"title\": \"Contentium case study\",\n    \"metaDescription\": \"Contentium is a project, build with Next.js.\",\n    \"keywordText\": \"markdown\",\n    \"brief\": \"**Contentium** is a project, build with Next.js.\",\n    \"highlighted\": true,\n    \"createdAt\": \"2021-09-09\",\n    \"author\": \"Ladislav Prix\",\n    \"readingTimeInMinutes\": 5\n}\n`)),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"title\"),\" - Name of article in list \",mdx(\"inlineCode\",{parentName:\"li\"},\"<h1>\"),\" title on article page and \",mdx(\"inlineCode\",{parentName:\"li\"},\"<title>\"),\" of the article page. (\",mdx(\"em\",{parentName:\"li\"},\"searchable\"),\")\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"metaDescription\"),\" - Content of \",mdx(\"inlineCode\",{parentName:\"li\"},'<meta name=\"description\">'),\" tag on the article page.\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"keywordText\"),\" - Content of \",mdx(\"inlineCode\",{parentName:\"li\"},'<meta name=\"keywork\">'),\" tag on the article page. (\",mdx(\"em\",{parentName:\"li\"},\"searchable\"),\")\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"brief\"),\" - Brief description in article list, can use \",mdx(\"strong\",{parentName:\"li\"},\"markdown\"),\".\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"highlighted\"),\" - Articles with \",mdx(\"strong\",{parentName:\"li\"},\"highlighted\"),\" flag set to true are shown first in list of articles and also have special \\u2B50 mark at the end of theitr title.\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"createdAt\"),\" - Date when article was created. Used as secondary sort after \",mdx(\"strong\",{parentName:\"li\"},\"highlighted\"),\" flag. \"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"createdAt\"),\" - Author of the article. (\",mdx(\"em\",{parentName:\"li\"},\"searchable\"),\")\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"readingTimeInMinutes\"),\" - Estimated reading time in minutes.\")),mdx(\"h2\",null,\"Contentium modes\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Contentium\"),\" can be used in two different modes, those can be run natively or using \",mdx(\"strong\",{parentName:\"p\"},\"Docker\"),\" image \",mdx(\"inlineCode\",{parentName:\"p\"},\"shamyr/contentium-base\"),\" that is exposed from this project.\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"ISR mode\"),\" - ISR mode uses \",mdx(\"strong\",{parentName:\"li\"},\"Incremental static regeneration\"),\", this mode is best when you need to change content while the application is running. This can be done with commands \",mdx(\"inlineCode\",{parentName:\"li\"},\"yarn build\"),\" and \",mdx(\"inlineCode\",{parentName:\"li\"},\"yarn start\"),\".\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"strong\",{parentName:\"li\"},\"SSG mode\"),\" - SSG mode uses \",mdx(\"strong\",{parentName:\"li\"},\"Server side generation\"),\", this mode is best when you don't need to change content \",mdx(\"em\",{parentName:\"li\"},\"on the fly\"),\" and statically generated pages are enough for you. \")),mdx(\"h3\",null,\"ISR mode\"),mdx(\"p\",null,\"This mode requires \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://nodejs.org/en/\"}),\"Node.js\"),\" as runtime because it runs \",mdx(\"strong\",{parentName:\"p\"},\"nextjs\"),\" server on the backend that performs \",mdx(\"strong\",{parentName:\"p\"},\"Incremental static regeneration\"),\". You can start the application in this mode natively using \",mdx(\"inlineCode\",{parentName:\"p\"},\"yarn build\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"yarn start\"),\" commands in the project root. Or you can use \",mdx(\"strong\",{parentName:\"p\"},\"Docker\"),\" image \",mdx(\"inlineCode\",{parentName:\"p\"},\"shamyr/contentium-base\"),\" as you can see below. \",mdx(\"strong\",{parentName:\"p\"},\"ISR mode\"),\" provides healty mixture of performance, SEO and flexibility to add new content while the application is running without need to deploy new updated service.   \"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-docker\"}),`FROM shamyr/contentium-base as builder\nRUN yarn build\n\nFROM node:16-alpine3.11 as runner\nWORKDIR /app\n\nCOPY --from=builder /app/public ./public\nCOPY --from=builder /app/.next ./.next\nCOPY --from=builder /app/node_modules ./node_modules\nCOPY --from=builder /app/package.json ./package.json\nCOPY --from=builder /app/data ./data\n\nEXPOSE 3000\nCMD [\"yarn\", \"start\"]\n`)),mdx(\"h3\",null,\"SSG mode\"),mdx(\"p\",null,\"This mode generates static pages that can be put to \",mdx(\"strong\",{parentName:\"p\"},\"CDN\"),\" and served from there. You can build pages natively using \",mdx(\"inlineCode\",{parentName:\"p\"},\"yarn export\"),\". Or you can use \",mdx(\"strong\",{parentName:\"p\"},\"Docker\"),\" image \",mdx(\"inlineCode\",{parentName:\"p\"},\"shamyr/contentium-base\"),\" as you can see below, where we build pages and put them to \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://www.nginx.com/\"}),\"Nginx\"),\" web server. \",mdx(\"strong\",{parentName:\"p\"},\"SSG mode\"),\" provides maximum performance and SEO, thanks to the generated pages, but it comes with cost, you cannot add pages without need to rebuild whole app.\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-docker\"}),`FROM shamyr/contentium-base as builder\nRUN yarn export\n\nFROM nginx:1.21.1-alpine\n\nCOPY --from=builder /app/docker/nginx.conf /etc/nginx/conf.d/default.conf\nCOPY --from=builder /app/out /usr/share/nginx/html\n\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n`)),mdx(\"h2\",null,\"Conclusion\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Contentium\"),\" is suited for those who want to create fast, SEO optimalized site with static content (eg. blog). Fo example this site is created with \",mdx(\"strong\",{parentName:\"p\"},\"Contentium\"),\" \\u{1F642}.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"settings":{"title":"Ladislav Prix's blog","footer":{"compiledSource":"var y=Object.defineProperty,l=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var e=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var c=(t,o,a)=>o in t?y(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,r=(t,o)=>{for(var a in o||(o={}))e.call(o,a)&&c(t,a,o[a]);if(p)for(var a of p(o))i.call(o,a)&&c(t,a,o[a]);return t},s=(t,o)=>l(t,m(o));var u=(t,o)=>{var a={};for(var n in t)e.call(t,n)&&o.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&p)for(var n of p(t))o.indexOf(n)<0&&i.call(t,n)&&(a[n]=t[n]);return a};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(a){var n=a,{components:t}=n,o=u(n,[\"components\"]);return mdx(MDXLayout,s(r(r({},layoutProps),o),{components:t,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Copyright 2021 \\xA9 \",mdx(\"a\",r({parentName:\"p\"},{href:\"mailto:contact@ladislavprix.cz\"}),\"Ladislav Prix\")))}MDXContent.isMDXComponent=!0;\n","scope":{}}}},"__N_SSG":true}