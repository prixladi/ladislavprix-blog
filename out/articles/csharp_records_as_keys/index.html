<!DOCTYPE html><html lang="en"><head><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');d.add('light');if("system"===e||(!e&&false)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><title>C# records used as hash keys</title><meta name="keywords" content="c# .net tech records"/><meta name="description" content="C# 9 records can be used as hash keys."/><meta name="next-head-count" content="6"/><link rel="preload" href="/_next/static/css/86c49b1d733daeab4677.css" as="style"/><link rel="stylesheet" href="/_next/static/css/86c49b1d733daeab4677.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-90a60b87fd0d5fc150f2.js" defer=""></script><script src="/_next/static/chunks/framework-0441fae7fd130f37dee1.js" defer=""></script><script src="/_next/static/chunks/main-3471f9e78cb3bb918a47.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c14129533c987db634ad.js" defer=""></script><script src="/_next/static/chunks/517-2ad9fb35a3ec410afd62.js" defer=""></script><script src="/_next/static/chunks/605-ebcbcfa7fcbe7a7ad82e.js" defer=""></script><script src="/_next/static/chunks/173-de32ffd3fb1d8a24a2d7.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-9b28d97af0d54a833e30.js" defer=""></script><script src="/_next/static/ovR5Xj2zkKmdpiGa4phmP/_buildManifest.js" defer=""></script><script src="/_next/static/ovR5Xj2zkKmdpiGa4phmP/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><div class="content"><header><div><button class="theme-switcher">‚òÄÔ∏è</button></div><h3 class="link back-to-link">Ladislav Prix&#x27;s blog</h3><h1>C# records used as hash keys</h1><div class="article-metadata"><div>üë§ <!-- -->Ladislav Prix<!-- --> ¬∑</div><div>üìÖ <!-- -->September 10, 2021<!-- --> ¬∑</div><div> üïí <!-- -->1<!-- --> min read ¬∑</div></div></header><main><div class="markdown"><p>New <strong>C# 9</strong> feature <a href="https://docs.microsoft.com/dotnet/csharp/whats-new/tutorials/records">records</a> can easily be used as key in <em>hash</em> structures such as <code>IDictionary&lt;TKey, TValue&gt;</code>, thanks to them by default implementing <code>IEquatable&lt;&gt;</code>. Of course <strong>classes</strong> can be used as keys too but you either compare by reference which is not desirable in many cases or you need to implement <code>IEquatable&lt;&gt;</code> by yourself.</p><h2>Example</h2><pre><code class="language-csharp">public record Key 
{
    public string Title { get; init; }
    public string Batch { get; init; }
}

var distinctArticles = new HashSet&lt;Key&gt;();

foreach(var article in articles)
    distincArticles.Add(new Key 
    { 
        Title = article.Title, 
        Batch = article.Batch  
    });
</code></pre></div></main><footer class="footer"><div class="markdown"><p>Copyright 2021 ¬© <a href="mailto:contact@ladislavprix.cz">Ladislav Prix</a></p></div></footer><div style="position:fixed;bottom:50px;right:30px;cursor:pointer;transition-duration:0.2s;transition-timing-function:linear;transition-delay:0s;opacity:0;visibility:hidden;transition-property:opacity, visibility"><span>Scroll up‚òùÔ∏è</span></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"title":"C# records used as hash keys","metaDescription":"C# 9 records can be used as hash keys.","keywordText":"c# .net tech records","brief":{"compiledSource":"var c=Object.defineProperty,l=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var a=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var i=(e,n,t)=\u003en in e?c(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,r=(e,n)=\u003e{for(var t in n||(n={}))s.call(n,t)\u0026\u0026i(e,t,n[t]);if(a)for(var t of a(n))p.call(n,t)\u0026\u0026i(e,t,n[t]);return e},u=(e,n)=\u003el(e,D(n));var y=(e,n)=\u003e{var t={};for(var o in e)s.call(e,o)\u0026\u0026n.indexOf(o)\u003c0\u0026\u0026(t[o]=e[o]);if(e!=null\u0026\u0026a)for(var o of a(e))n.indexOf(o)\u003c0\u0026\u0026p.call(e,o)\u0026\u0026(t[o]=e[o]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var o=t,{components:e}=o,n=y(o,[\"components\"]);return mdx(MDXLayout,u(r(r({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"C# 9\"),\" records can be easily used as hash keys in structures like \",mdx(\"inlineCode\",{parentName:\"p\"},\"IDictionary\u003cTKey, TValue\u003e\"),\".\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"createdAt":"2021-09-10","author":"Ladislav Prix","readingTimeInMinutes":1,"content":{"compiledSource":"var u=Object.defineProperty,m=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var c=(e,t,a)=\u003et in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,r=(e,t)=\u003e{for(var a in t||(t={}))s.call(t,a)\u0026\u0026c(e,a,t[a]);if(i)for(var a of i(t))o.call(t,a)\u0026\u0026c(e,a,t[a]);return e},p=(e,t)=\u003em(e,d(t));var l=(e,t)=\u003e{var a={};for(var n in e)s.call(e,n)\u0026\u0026t.indexOf(n)\u003c0\u0026\u0026(a[n]=e[n]);if(e!=null\u0026\u0026i)for(var n of i(e))t.indexOf(n)\u003c0\u0026\u0026o.call(e,n)\u0026\u0026(a[n]=e[n]);return a};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(a){var n=a,{components:e}=n,t=l(n,[\"components\"]);return mdx(MDXLayout,p(r(r({},layoutProps),t),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"New \",mdx(\"strong\",{parentName:\"p\"},\"C# 9\"),\" feature \",mdx(\"a\",r({parentName:\"p\"},{href:\"https://docs.microsoft.com/dotnet/csharp/whats-new/tutorials/records\"}),\"records\"),\" can easily be used as key in \",mdx(\"em\",{parentName:\"p\"},\"hash\"),\" structures such as \",mdx(\"inlineCode\",{parentName:\"p\"},\"IDictionary\u003cTKey, TValue\u003e\"),\", thanks to them by default implementing \",mdx(\"inlineCode\",{parentName:\"p\"},\"IEquatable\u003c\u003e\"),\". Of course \",mdx(\"strong\",{parentName:\"p\"},\"classes\"),\" can be used as keys too but you either compare by reference which is not desirable in many cases or you need to implement \",mdx(\"inlineCode\",{parentName:\"p\"},\"IEquatable\u003c\u003e\"),\" by yourself.\"),mdx(\"h2\",null,\"Example\"),mdx(\"pre\",null,mdx(\"code\",r({parentName:\"pre\"},{className:\"language-csharp\"}),`public record Key \n{\n    public string Title { get; init; }\n    public string Batch { get; init; }\n}\n\nvar distinctArticles = new HashSet\u003cKey\u003e();\n\nforeach(var article in articles)\n    distincArticles.Add(new Key \n    { \n        Title = article.Title, \n        Batch = article.Batch  \n    });\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"settings":{"title":"Ladislav Prix's blog","footer":{"compiledSource":"var y=Object.defineProperty,l=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var e=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var c=(t,o,a)=\u003eo in t?y(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,r=(t,o)=\u003e{for(var a in o||(o={}))e.call(o,a)\u0026\u0026c(t,a,o[a]);if(p)for(var a of p(o))i.call(o,a)\u0026\u0026c(t,a,o[a]);return t},s=(t,o)=\u003el(t,m(o));var u=(t,o)=\u003e{var a={};for(var n in t)e.call(t,n)\u0026\u0026o.indexOf(n)\u003c0\u0026\u0026(a[n]=t[n]);if(t!=null\u0026\u0026p)for(var n of p(t))o.indexOf(n)\u003c0\u0026\u0026i.call(t,n)\u0026\u0026(a[n]=t[n]);return a};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(a){var n=a,{components:t}=n,o=u(n,[\"components\"]);return mdx(MDXLayout,s(r(r({},layoutProps),o),{components:t,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Copyright 2021 \\xA9 \",mdx(\"a\",r({parentName:\"p\"},{href:\"mailto:contact@ladislavprix.cz\"}),\"Ladislav Prix\")))}MDXContent.isMDXComponent=!0;\n","scope":{}}}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"csharp_records_as_keys"},"buildId":"ovR5Xj2zkKmdpiGa4phmP","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>